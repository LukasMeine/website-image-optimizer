<head>
  <script type="d7d6209597c0a08f87cd90b8-text/javascript" src="image-compressor.js"></script>
</head>

<body>

  <script type="d7d6209597c0a08f87cd90b8-text/javascript">
    document.getElementById('file').addEventListener('change', (e) => {
      const file = e.target.files[0];

      if (!file) {
        return;
      }

      new ImageCompressor(file, {
        quality: .6,
        success(result) {
          const formData = new FormData();

          formData.append('file', result, result.name);

          // Send the compressed image file to server with XMLHttpRequest.
          axios.post('/path/to/upload', formData).then(() => {
            console.log('Upload success');
          });
        },
        error(e) {
          console.log(e.message);
        },
      });
    });
  </script>
  <input type="file" id="file" accept="image/*">

<script src="https://ajax.cloudflare.com/cdn-cgi/scripts/2448a7bd/cloudflare-static/rocket-loader.min.js" data-cf-nonce="d7d6209597c0a08f87cd90b8-" defer=""></script></body>